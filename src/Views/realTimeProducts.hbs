<link rel="stylesheet" href="/static/css/realTimeProduct.css">

{{#if user}}
  <div class="logout-container">
    <a href="/logout" class="logout-btn">Cerrar sesión</a>
  </div>
{{/if}}

<h1>Productos en Tiempo Real</h1>

<form id="productForm" action="/api/products" method="POST" enctype="multipart/form-data">
  <input type="text" name="title" placeholder="Título" required />
  <input type="text" name="description" placeholder="Descripción" />
  <input type="text" name="code" placeholder="Código" required />
  <input type="number" name="price" placeholder="Precio" required />
  <input type="number" name="stock" placeholder="Stock" required />
  <input type="text" name="category" placeholder="Categoría" />
  <input type="file" name="imagen" />
  <button type="submit">Agregar producto</button>
</form>

<ul id="productList">
  {{#each products}}
    <li data-id="{{_id}}">
      <h3>{{title}}</h3>
      <p>{{description}}</p>
      <p>Precio: ${{price}}</p>
      <p>Código: {{code}}</p>
      <p>Stock: {{stock}}</p>
      <p>Categoría: {{category}}</p>
      {{#if thumbnails.[0]}}
        <img src="{{thumbnails.[0]}}" alt="{{title}}" width="150">
      {{else}}
        <em>Sin imagen</em>
      {{/if}}
      <button class="deleteBtn" onclick="deleteProduct('{{_id}}')">Eliminar</button>
    </li>
  {{/each}}
</ul>
